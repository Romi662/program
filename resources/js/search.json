[[{"i":"приложение-1с-экспедитор","l":"Приложение \"1с Экспедитор\""},{"i":"в-данном-руководстве-описан-порядок-работы-с-мобильным-приложением-1с-экспедитор","l":"В данном руководстве описан порядок работы с мобильным приложением «1С Экспедитор».","p":["«1С Экспедитор» - это мобильное приложение, предназначенное для автоматизации процесса доставки воды по маршрутному листу.","Плюсы использования мобильного приложения:","вся необходимая информация для доставки содержится в мобильном устройстве;","отражение факта доставки онлайн;","освобождение от использования бумаги, экономия ресурсов принтера;","организация современной системы скрытого дозвона и оперативное получение информации от курьеров о выполнении заказов, их времени и местоположении;","соблюдение законодательства относительно маркировки бутилированной воды и кассовой дисциплины;","автоматическое формирование чеков и их отправка в ОФД;","отправка чеков клиенту по электронной почте.","Целью руководства является обеспечение пользователей необходимой информацией для самостоятельной работы с мобильным приложением.","Оно будет полезно сотрудникам компаний, участвующих в бизнес-процессах по доставке воды. Главным образом для водителей и экспедиторов, осуществляющих непосредственно доставку воды."]}],[{"l":"Установка приложения","p":["Для начала работы необходимо скачать файл по ссылке и установить на ваш телефон. В этом вам может помочь файловый менеджер. При установке соглашаемся на разрешения доступа к камере и геолокации"]},{"l":"Подключение устройства к базе","p":["При первом запуске приложения программа предложит ввести код организации. Данный код вам будет предоставлен после подписания договора на использование приложение. Обратите внимание, Ввод префикса организации"]},{"l":"Авторизация в приложении","p":["На начальной странице вводятся обязательные поля для заполнения: логин, пароль и дата доставки. Данные логина и пароля выдает ваш администратор. Данные необходимо вводить внимательно! Заполнение логина и пароля"]}],[{"l":"Маршрутный лист","p":["В этой части руководства мы рассмотрим внешний вид маршрутного листа, и его возможности."]},{"l":"Получение маршрутного листа","p":["Для получения МЛ необходимо установить дату и сохранить настройки, после чего можете получить маршрутный лист. Обратите внимание, что для получения МЛ необходимо, что бы он был создан и готов к оптравке в основной базе."]},{"l":"Начало работы","p":["После получения МЛ, перед нами откроется форма списка, на которой указаны все заявки которые необходимо выполнить. Последовательность выполнения точек не важна, вы можете начать выполнение как самого первого заказа, так и к примеру пятого по очереди. Что бы начать выполнение заявки достаточно выбрать нужную вам точку и нажать на неё. Выбор и открытие точки","Заказы в маршрутном листе можно обрабатывать в произвольном порядке, а так же одновременно выполнять несколько точке. В случае если вы случайно закроете точку или приложение все данные сохраняются. Можно повторно открыть точку и продолжить работу. По умолчанию выполняемы заказы скрываются из списка, однако их можно посмотреть нажав на переключатель .","Так же заявки можно переставлять местами, нажав на и напротив каждой точки появятся кнопки как на примере ниже: Изменение порядка заявок Зажав кнопку, заявку можно перемистить в любое место: После перемещения и для сохранения последовательности снова нажимаем и заявки остануться в том порядке, к каком мы их установили."]},{"l":"Обновление МЛ","p":["Водитель так же может обновить маршрутный лист, для просмотра новых заявок, добавленных ему. Для этого в открытом МЛ необходимо нажать на стрелку и выйти на начальную страницу. Нажав на нее у нас открылась форма главной страницы доступна к нажатию кнопка Обновление МЛ","Дополнительно есть возможность поставить настройку для автообновления маршрутного листа. Для этого необходимо сделать свайп вправо и откроется меню приложения. Открывается форма, переходим на вкладку \"Автоматически обновлять МЛ\" и в открывшимся окне перемещаем ползунок на включенный режим. После этого маршрутный лист будет обновляться автоматически. Настройка автообновления МЛ"]},{"l":"Дополнительные возможности"},{"l":"Карта","p":["В мобильном приложении Вод@воззаложена возможность работы с картой. Для открытия карты нажмите кнопку в нижней части экрана. Настройка карты осуществляется непосредственно в самой программе. Выглядит форма следующим образом. Карта Тут отображаются точками адреса доставки. Водитель может ориентироваться на карту и строить более удобный для себя маршрут. Так же на карту можно перейти из заказа. В таком случае на карте будет отображаться только выбранный адрес доставки."]},{"l":"Статистика","p":["Доступ к статистике по маршрутному листу осуществляется в нижней части экрана. Позволяет сформировать статистику по данному маршрутному листу. Данный инструмент имеет гибкие возможности настройки. Возможно создать свой вариант отчёта. Просмотр статистики Пример отчета, сформированного на основании текущего мл."]}],[{"l":"Точки маршрута","p":["В данном разделе мы рассмотрим работу с заявками, их внешний вид, возможности водителя при доставке и различные ситуации при работе."]},{"l":"Виды точек","p":["В маршрутном листе есть 4 различных вида точек доставки. Они отличают функциональным значением и внешним видом. Более продробно о каждой их сних можете прочить ниже.","Точка погрузки обозначает начала маршрута. На ней происходит загрузка товара со склада. При нажати на данную точку мы увидим список товаров для погрузки. После того, как всё необходимое будет погружено в машину и подписаны документы о получении. Мы подтверждаем загрузку и закрываем точку. Обратите внимание, что в случае несоответствия количества товаров, в приложении можно сразу внести измениние Получение товара со склада","Точка заказа покупателя является основной при доставке. На её форме отображена вся информация необходимая для доставки товара. С данной формы имеет возможность совершить звонок клиенту, а так же предварительно отсканировать маркированную продукцию перед отгрузкой клиенту. Заказ покупателя","Является точкой нашей компании, к примеру магазин или склад, на который в процессе работы необходимо заехать и отгурзить товар. Она обрабатывается водителем точно также как и обычный заказ, единственное отличие - это отсутствие необходимости вводить сумму оплаты. Внутренняя точка","Точка разгрузки является завершением маршрута. На ней мы указываем количество тары и товара которое будет сдано на склад после выполнения всех заявок.","Сдача товаров и тары на склад"]},{"l":"Работа с заказами","p":["В данном разделе мы рассмотрим поэтапный процесс выполнения заказа, для удобства процесс поделен на вкладки, с каждой из них можно ознакомиться отдельно."]},{"l":"Поехал","p":["На данном этапе мы отмечаем, что начали выполнять заказ, и примерное время через которое будем у клиента. Данный этап можно выключить в настройках основной программы.","Для начала доставки необходимо нажать кнопку .Далее необходимо выбрать время доставки из предложенного списка, либо же указать своё, нажав кнопку . Если, если у клиентов установлено мобильное приложение для заказа, будет отправлено Push-уведомление о доставке.","Начало следования по маршруту"]},{"l":"Прибыл","p":["На данном этапе экспедитор указывает пробег по одометру. Данный этап можно выключить в настройках основной программы.","Что бы указать пробег нажимает кнопку . Далее вводим сколько километров проехали и нажимаем на команду . Далее","Ввод показаний адометра"]},{"l":"Доставил","p":["Это конечный этап доставки. В нем идет отражение факта доставки товара и получения оплаты от клиента. Перед подтверждением факта доставки можно изменить количество доставленного товара, а так же полученной тары.","Изменение кол-ва товаров Изменение кол-ва тары","После корректировки табличных частей можно переходить к подтверждению факта оплаты и провверки кодов маркировки, для этого нажимаем кнопку . Перед нами откроется окно .","На данном этапе необходимо указать сумму полученную от клиента, а так же указать , если клиент решил поменять способ оплаты. Ввод оплаты","Также в приложении доступен вид оплаты - Водитель может выбрать этот способ оплаты после сканирования всех кодов маркировки. Из списка необходимо выбрать пункт , после этого нажать на кнопку Далее на экране появится QR-код, который клиент может отсканировать и оплатить заказ. После подтверждения факта оплаты водитель нажимает на и заявка автоматически закрывается. Позднее оплата поступит в Водавоз путем загрузки банковской выписки. Форма оплаты -\"СПБ\"","Далее, если в заказе есть маркируемая продукция, то небходимо отканировать все бутыли, иначе программа не даст закрыть заказ. Для того, чтобы отсканировать бутылки необходимо нажать на кнопку \"Сканировать\". После откроется камера и необходимо будет навести на код. При успешном сканировании Поле \"Штрихкод будет заполнено и кнопка станет доступной. Сканирование кодов маркировки В случае, если коды не читаемые и невозможно их отсканировать в момент доставки есть кнопка . Нажав на нее программа позволит вам закрыть заказ, не сканируя товары. Отказ от сканирования"]},{"l":"Отмена заявки","p":["Данный этап преднозначе для отмены заказа в случае, если клиента нет на месте или по каким-то другим причинам заказ не может быть выполнен.","Для отмены доставки необходимо нажать кнопку , после чего из списка причин недоставки необходимо будет выбрать наиболее подходящую. Обращаем внимание, что данный список формируется в центральной базе, и произвольную причину указать нелья.","Отмена доставки"]},{"l":"Сброс поездки","p":["Водитель может сбросить поездку, в случае если заявка была им не корректно обработана. Сделать это можно следующим образом:","Зайти в заказ, который необходимо сбросить.","Далее нажать на кнопку в правой части экрана.","Выбираем Сброс поездки","После этого заявка, которая была обработана водителем вернется в общий спискок заказов, и будет снова доступна для выполнения."]}],[{"l":"Частые вопросы"},{"l":"Не удается получить маршрутный лист","p":["Ниже рассмотрим типовые причины, по которым чаще всего у водителей возникают проблемы с получением МЛ."]},{"l":"Неверный логин","p":["В данной ситуации необходимо обратить внимание на корректность ввода данных. Скорее всего где-то есть опечатка. Лучше всего внести данные заново. Если после изменений логина проблема сохраняется, то необходимо проверить корректность профиля пользователя. Должны быть установлены следующие права: Права доступа Так же проверить что бы совпадали логин и полное имя: Имя для входа"]},{"l":"Неверный пароль","p":["В этом случае алгоритм действий такой же как и пунктом выше. Необходимо перезаполнить поле \"пароль\", проверить права доступа. А так же в программе можно сменить пароль на более простой для проверки работы аккаунта."]},{"l":"Нет доступного МЛ","p":["Маршрутный лист еще не готов для получаения. Для того, чтобы убедиться в том, что все корректно необходимо перейти в Водавозе в список МЛ и посмотреть, действительно ли есть Мл для данного водителя. В случае, если МЛ имеется, проверить в каком он статусе. Для получения он должен быть в пути. Настройка МЛ","Если всё корректно, то проверьте не захвачен ли МЛ другим устройством. Для этого его необходимо открыть и перейти на вкладку «Информация диспетчеру» и нажать команду очистить. После этого маршрутный лист сможет получить любое устройство. Идентификатор устройства После проведенных манипуляций водитель сможет получить МЛ. Так же необходимо проверить дату, которую водитель ввел при получении МЛ. Дополнительно причиной можеть быть не закрытый старый маршрутный лист водителем. В случае, если водитель не закрыл старый МЛ, то новый он получить не сможет и необходимо будет закончить обработку старого."]},{"l":"Проверьте сеть","p":["Необходимо проверить подключение смартфона к интернету. В случае если показывает, что устройство подключено можно выключить-включить сеть и получить мл заново. Так же проверить, чтобы устройство не было подключено к сети Wi-fi. Это может влиять на стабильную работу интернета."]},{"i":"прочие-вопросы","l":"Прочие вопросы:"},{"l":"Приложение выдает ошибки","p":["Если появилась ошибка, то в ней необходимо нажать на кнопку\" Сформировать отчет об ошибке\". После этого необходимо сделать скриншот ошибки и прислать его нам."]},{"i":"нет-кнопки-сканировать","l":"Нет кнопки сканировать.","p":["Проверить настройки водителя. Стоит ли галочка \"Сканировать товары в МПЭ\" Настройка водителя","Проверить акутальную версию приложения. Ее можно будет уточнить у Администратора. Также версию можно посмотреть в самом приложении: Версия приложения","Проверить заполнение поля GTIN в номенклатуре по данному товару. Настройки в номенклатуре","Проверить включена ли маркировка в самом Водавозе. Настройки в программе"]},{"l":"Не могу узнать доставку за день","p":["В любой момент времени водитель может посмотреть информацию о том, какое кол-во заказов было выполнено. Для этого в приложении есть кнопка \"Статистика\" Статистика"]},{"l":"Вопросы по выполнению заказов"},{"l":"Как поменять товар в заказе","p":["Зайти в заказ. Нажать на номенклатуру. В списке выбрать другой товар. Нажать готово. Изменить товар"]},{"l":"Как повторно выполнить заказ","p":["Водитель может сбросить поездку, в случае если заявка была им не корректно обработана. Сделать это можно следующим образом:","Зайти в заказ, который необходимо сбросить.","Далее нажать на кнопку в правой части экрана.","Выбираем Сброс поездки","После этого заявка, которая была обработана водителем вернется в общий спискок заказов, и будет снова доступна для выполнения."]},{"i":"какой-порядок-выполнения-заказов","l":"Какой порядок выполнения заказов.","p":["Порядок выполнения заявок произвольный. Водитель может обрабатывать заявки так, как ему удобно, вне зависимоти от того, как они расположены в приложении."]},{"i":"как-из-программы-позвонить-клиенту","l":"Как из программы позвонить клиенту.","p":["В заказе небходмо нажать на представление клиента. Так же можно держать ориентир на значок телефона. Нажимаем на него и осуществляется звонок по контактному номеру, указанному в приложении. Звонок"]}],[{"l":"Настройка публикации","p":["Перед началом работы с приложением необходимо опубликовать базу 1с. Это обязательное условие работы. Настройку публикации мы рассмотрим на примере службы IIS. Мы пройдем следующие этапы:","Установка службы ИИС","Настройка службы для работы с 1с","Публикация базы данных","Настройка авторизации для мобильных приложений","Проверка работосособности."]},{"l":"Установка службы ИИС","p":["Установка службы происходит через панель управления - включение и отключение компонентов windows","включение и отключение компонентов windows","Далее находим службу IIS и указываем необходимые параметры установки по образцу на скриншоте","Пример заполнения"]},{"l":"Настройка службы","p":["Для корректной работы системы необходимо настроить пулы приложений. Для этого откроем IIS через меню пуск.","Запуск приложения","Далее развернем раздел с подключениеями, в нем выберем пулы приложения. Здесь нас интересует пункт DefaultAppPools, нажимает на него правой клавишей мыши и выбираем пунк \"Дополнительные параметры\"","Выбор настроек","Далее нас интересуют 2 признака. \"Разрешены 32х разрядные приложения\"- ставим True, если у вас 32х битная 1с и false в противном случае. \"Режим управляемого конвейера\" - classic","Настройка пулов приложений","На это настройка IIS заканчивается, далее проверяем работоспособность."]},{"l":"Публикация информационной базы","p":["Для публикации информационной базы необходимо, что 1с была установлена с включенной компонентой публикации веб сервисов, она выделена на скриншоте ниже","Проверка установки","Далее необходимо запустить 1с и открыть конфигуратор. В нем переходим в раздел администрирование и нажимаем","Перед наими откроется окно с настройками публикации. Мы будем делать две публикации. Одна для работы http и веб сервисов, вторая для работы пользователей.","Для публикации имя указываем латиницей, рекомендуем называть базу , так будет сразу понятно, что вы публикуете. В настройках публикации отключаем публикацию клиентской части, odata интерфейс и аналитику, в текущих настройках они нам не нужны.","Пример заполнения Пример заполнения","Имя указываем латиницей, рекомендуем называть базу , так будет сразу понятно, что вы публикуете. В настройках публикации отключаем публикацию web и http сервисов. Так же желательно указать путь к дистрибутиву публикации, что бы можно было работать через тонкий клиент 1с, а не браузер. Это облегчит работу по настройке рабочих мест. Подробнее можно почитать на сайте ИТС","После завершения публикации мы можем приступить к следующему шагу."]},{"l":"Настройка авторизации мобильного приложения","p":["Для работоспособности мобильного приложения необходимо создать пользователя в 1с в дальнейшем сервисы будут работать под его учетной записью.","Перейдем в раздел администрирования - настройки пользователей и прав - пользователи. Здесь создадим пользователя, назовем его . На необходимо запретить изменение и восстановление пароля у пользователя. Так же запретить аутентификацию по Open ID и операционной системе. Далее задаем пароль, можем воспользоваться функцие автогенерации, главное запишите его, он нам ещё пригодиться.","Создание пользователя","Далее зададим пользователю права. Т.к. мы делаем общую настройку для множества внутренних сервисов, а не только приложения экспедитора, то выдадим полный доступ пользователю.","После того, как мы завели пользователя в систему, нам необходимо отредактировать файл default.vrd, как правило он находится по следующему пути C\\inetpub\\wwwroot\\vodavoz_mobile Нам необходимо открыть данный файл, сделать это можно при помощи блокнота или же специализированных приложений, к примеру notpad++\".","Внешний вид файла","Далее нам необходимо внести изменения в строку \"ib=\"Srvr=\" SRV1C\";Ref=\" VodaVoz2017\";\" приведя её к виду \"ib=\"Srvr=\" SRV1C\";Ref=\" VodaVoz2017\";Usr=\" Web_App\";Pwd=\" BY2ji0hi\";\" Где Web_App - имя созданного нами пользователя, а BY2ji0hi - его пароль. Далее сохраняем файл и можем проверять работу приложения"]},{"l":"Проверка работоспособности","p":["Для начала узнаем наш внешний айпи адрес, и уточняем у провайдера является ли он статически (белым). Проще всего узнать это через сайт 2ip.ru","Получение ip адреса Здесь мы можем увидеть наш айпи адрес. Он в дальнейшем потребуется для настройки, его необходимо сообщить разработчикам после публикации. После того, как мы узнали айпи адрес, нам необходимо настроить проброс портов с нашего роутера, до сервера на котором находится 1с. К примеру переадресация с порта 8888 на порт 80. Тут вам на помощь должен прийти системный администратор, т.к. техники различной много и все мы их в инструкции не опишем.","После того, как порт проброшен мы можем проверить работоспособность базы. Для этого необходимо перейти по следующему сетевому адресу\"92.241.102.242:8888/vodavoz_mobile/hs/vodavoz/*\" где 92.241.102.242 наш внешний айпи, 8888 это порт который мы устанавливали, а vodavoz_mobile- имя нашей публикации.","Если всё хорошо, то вы увидите сообщение. \"Сервис работает по адресу: Srvr=\"ssql\";Ref=\"vodavoz_mobile\";\""]}],[{"l":"Настройки в 1с","p":["В данном разделе мы разберем необходимые настройку приложения со строны программы","Базовые настройки функциональности","Создание учетных записей для водителей","Обзор механизма обработки отчетов"]},{"l":"Базовые настройки функциональности","p":["Для того, что бы определить функциональность приложения экспедитора нам потребуется перейти в настройки программы. Заходим в раздел настройки, настройки программы и переходим на вкладку 1с Экспедитор","Настройки функциональности","Пройдемся по всем признакам и дадим пояснения, как они работают","- данный признак отвечает за то, будет ли доступна команда в приложении экспедитора. При её использовании в программе будет отмечено время выполнения маршрута. А если у вас есть интеграция с клиентским приложением, то по данному заказу будет сформирован и выслан в котором будет указано через сколько к клиенту приедет водитель.","- данная признак отвечает за доступность команды Данная команда передает в центральную базу показания адометра введенные водителем, что позволяет учитывать расстояние пройденное автомобилем и рассчитывать затраты на рейс.","- данный признак отвечает за автозаполнение суммы в приложении экспедитора, если он проставлен, то сумма полученных средст будет вставать автоматически у водителя, если нет, то ему придется в ручную её вводить. Рассчитана для контроля водителей, что бы они точно вносили данные, а не пропускали внос на автомате.","- позволяет в мобильном приложении осуществлять звонок клиенту не показывая его водителю, сам же клиент будет видеть звонок, как входящий с основного номера компании. Это позволяет оградить компанию от ситуаций, что водитель не контролируемо звонит клиенту, так же отменяет сбор данных о телефонах водителей, что бы они не начали работать в обход компании и в случае спорных ситуаций клиент всегда попадет в офис, и там узнают о звонке.","- устанавливается если водителям запрещено меняться телефонами, тогда система поиска номера учитывает данные пользователя при поиске разрешенного номера. В противном случае просто проверяется список разрешенных телефонов","- это список номеров с которых разрешено совершать скрытые вызовы, по сути это настройка необходимой безопасности. Здесь указываются все номера водителей которым разрешено звонить. Номера указываются в 10 значном формате без 8","Заполнение разрешенных номеров"]},{"l":"Создание учетных записей для водителей","p":["Изначально создадим водителя, как физическое лицо, в дальнейшем он будет указываться в маршрутных листах. Если же водители уже созданы, то просто откорректируем карточку. И так, перейдем в раздел справочники, и откроем справочник физических лиц. Нажимаем на команду создать и заполняем карточку водителя.","Форма создания пользователей","В крадце о важных для заполнения данных- выбираем из списка должностей предопределенную - если стоит данный признак, то водитель не сможет получить новый МЛ, пока не закроет текущий. Это контроль выполнения заданий, не для всех компаний подходит- если водитель работает с маркированной продукцией то ему необходимо проставить данный признак для того, что бы в приложении появилась команда сканирования продукции.","Все остальные поля заполняем по умолчанию","Далее создаем пользователей. Переходим в раздел администрирование - настройки пользователей и прав - пользователи. В открывшемся окне нажимаем создать и заполняем данные.","При создании пользователя поля и должны быть одинаковыми! Это обязательное условие. В дальнейшем это будет логин водителя. Настоятельно рекомендуем заполнять латиницей, как правило лучше создавать логины по фамили водителя, в моём примере будет Petrov.","- здесь указываем физ. лицо водителя из соответствующего справочника.","Обязательно указываем пароль, и делаем настройки авторизации аналогичто тем, что на скриншоте, и записываем пользователя. Далее переходим на вкладку права доступа и назначаем пользователю две роли. и . На этом создание учетной записи водителя завершено.","Права пользователя"]},{"l":"Обзор механизма обработки отчетов","p":["Для получения МЛ необходимо установить дату и сохранить настройки, после чего можете нажать получить. Обратите внимание, что вы сможете получить МЛ, только если он доступен"]}],[{"i":"настройка-работы-с-яндекс-картами","l":"Настройка работы с Яндекс-Картами.","p":["АААвторизуйтесь в Яндексе.","Нажмите кнопку Получить ключ","Выберите вариант JavaScript API и HTTP Геокодер.","Заполните пустые поля — обязательные позиции отмечены красной звездочкой:— ФИО, почта, телефон— отметьте, что ваш сервис отвечает условиям бесплатного использования версии— добавьте краткое описание сервиса и ссылку на сайт (поле появится после того, как вы отметите пункт выше)— поставьте галочку в графе Я принимаю условия","Нажмите кнопку Продолжить. API подключен.","Сервис переведет вас на страницу Кабинета разработчика. Скопируйте ключ под заголовком Ключи API.","Ваш API ключ создан и скопирован. Осталось добавить в Вод@воз. Для этого в программе Воз@воз необходимо открыть «Настройки»-«Настройки программы», вкладка«Сервисные». В поле «Апи ключ яндекс карт» необходимо скопировать полученный ранее ключ. После выполнения этих действий Яндекс-карты заработают."]}]]